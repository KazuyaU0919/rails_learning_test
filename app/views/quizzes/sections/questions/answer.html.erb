<!-- app/views/quizzes/sections/questions/answer.html.erb -->
<% correct = (params[:choice].to_i == @question.correct_choice) %>
<div class="rounded border p-4 bg-white">
  <p class="<%= correct ? 'text-emerald-700' : 'text-red-700' %> font-semibold">
    <%= correct ? "正解！" : "不正解…" %>
  </p>
  <p class="mt-1 text-sm">正解：<%= @question.public_send("choice#{@question.correct_choice}") %></p>

  <div class="mt-3 p-3 rounded bg-slate-50">
    <h3 class="font-semibold mb-1">解説</h3>
    <p><%= simple_format @question.explanation %></p>
  </div>

  <div class="flex justify-between mt-4">
    <% if @next_q %>
      <%= link_to "次の問題へ →", quiz_section_question_path(@quiz, @section, @next_q), class: "underline" %>
    <% else %>
      <%= link_to "結果を見る", result_quiz_section_path(@quiz, @section), class: "underline" %>
    <% end %>
  </div>
</div>
